<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smart Farming System | Modern Agriculture Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <!-- Logo -->
                <div class="logo">
                    <i class="fas fa-seedling"></i>
                    <span class="logo-text">SmartFarm</span>
                </div>

                <!-- Desktop Menu -->
                <div class="nav-menu">
                    <a href="index.html" class="nav-link active">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="crops.html" class="nav-link">
                        <i class="fas fa-leaf"></i>
                        <span>Crops</span>
                    </a>
                    <a href="weather.html" class="nav-link">
                        <i class="fas fa-cloud-sun"></i>
                        <span>Weather</span>
                    </a>
                    <a href="marketplace.html" class="nav-link">
                        <i class="fas fa-store"></i>
                        <span>Marketplace</span>
                    </a>
                    <a href="forum.html" class="nav-link">
                        <i class="fas fa-users"></i>
                        <span>Community</span>
                    </a>
                    <a href="dashboard.php" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                    </a>
                </div>

                <!-- Header Right Section -->
                <div class="header-right">
                    <!-- Language Selector -->
                    <div class="language-selector" id="languageSelector">
                        <button class="language-btn" onclick="toggleLanguageDropdown()">
                            <i class="fas fa-language"></i>
                            <span id="currentLanguage">EN</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="language-dropdown" id="languageDropdown">
                            <div class="language-option" onclick="changeLanguage('en')">
                                <span class="flag-icon">üá∫üá∏</span>
                                <span>English</span>
                                <i class="fas fa-check" style="display: none;"></i>
                            </div>
                            <div class="language-option" onclick="changeLanguage('mr')">
                                <span class="flag-icon">üáÆüá≥</span>
                                <span>‡§Æ‡§∞‡§æ‡§†‡•Ä</span>
                                <i class="fas fa-check" style="display: none;"></i>
                            </div>
                            <div class="language-option" onclick="changeLanguage('hi')">
                                <span class="flag-icon">üáÆüá≥</span>
                                <span>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</span>
                                <i class="fas fa-check" style="display: none;"></i>
                            </div>
                            <div class="language-option" onclick="changeLanguage('ta')">
                                <span class="flag-icon">üáÆüá≥</span>
                                <span>‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
                                <i class="fas fa-check" style="display: none;"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Google Translate (Hidden) -->
                    <div id="google_translate_element" style="display: none;"></div>

                    <!-- Auth Buttons -->
                    <div class="auth-buttons" id="authButtons">
                        <a href="login.html" class="btn btn-outline btn-sm">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>Login</span>
                        </a>
                        <a href="register.html" class="btn btn-primary btn-sm">
                            <i class="fas fa-user-plus"></i>
                            <span>Sign Up</span>
                        </a>
                    </div>

                    <!-- User Profile (When Logged In) -->
                    <div class="user-profile" id="userProfile" style="display: none;">
                        <div class="user-dropdown" onclick="toggleUserDropdown()">
                            <div class="user-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <span class="user-name">John Doe</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="user-dropdown-menu" id="userDropdown">
                            <a href="profile.php" class="dropdown-item">
                                <i class="fas fa-user"></i> My Profile
                            </a>
                            <a href="dashboard.php" class="dropdown-item">
                                <i class="fas fa-chart-line"></i> Dashboard
                            </a>
                            <a href="settings.html" class="dropdown-item">
                                <i class="fas fa-cog"></i> Settings
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="logo">
                <i class="fas fa-seedling"></i>
                <span>SmartFarm</span>
            </div>
            <button class="close-menu" id="closeMenuBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-links">
            <a href="index.html" class="mobile-nav-link active">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="crops.html" class="mobile-nav-link">
                <i class="fas fa-leaf"></i> Crops
            </a>
            <a href="weather.html" class="mobile-nav-link">
                <i class="fas fa-cloud-sun"></i> Weather
            </a>
            <a href="marketplace.html" class="mobile-nav-link">
                <i class="fas fa-store"></i> Marketplace
            </a>
            <a href="forum.html" class="mobile-nav-link">
                <i class="fas fa-users"></i> Community
            </a>
            <a href="dashboard.php" class="mobile-nav-link">
                <i class="fas fa-chart-line"></i> Dashboard
            </a>
            
            <!-- Mobile Language Selector -->
            <div class="mobile-language-selector">
                <h4>Select Language</h4>
                <div class="mobile-language-options">
                    <button class="mobile-lang-btn active" onclick="changeLanguage('en')">
                        <span class="flag-icon">üá∫üá∏</span> English
                    </button>
                    <button class="mobile-lang-btn" onclick="changeLanguage('mr')">
                        <span class="flag-icon">üáÆüá≥</span> ‡§Æ‡§∞‡§æ‡§†‡•Ä
                    </button>
                    <button class="mobile-lang-btn" onclick="changeLanguage('hi')">
                        <span class="flag-icon">üáÆüá≥</span> ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä
                    </button>
                    <button class="mobile-lang-btn" onclick="changeLanguage('ta')">
                        <span class="flag-icon">üáÆüá≥</span> ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç
                    </button>
                </div>
            </div>
            
            <!-- Mobile Auth Buttons -->
            <div class="mobile-auth-buttons">
                <a href="login.html" class="btn btn-outline">
                    <i class="fas fa-sign-in-alt"></i> Login
                </a>
                <a href="register.html" class="btn btn-primary">
                    <i class="fas fa-user-plus"></i> Sign Up
                </a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-grid">
                <div class="hero-content">
                    <h1 class="hero-title">Smart Farming Solutions for Modern Agriculture</h1>
                    <p class="hero-description">Get expert farming guidance, weather forecasts, market prices, and connect with farmers worldwide.</p>
                    <div class="hero-buttons">
                        <a href="#features" class="btn btn-primary">
                            <i class="fas fa-play-circle"></i> Explore Features
                        </a>
                        <a href="register.html" class="btn btn-outline">
                            <i class="fas fa-user-plus"></i> Join Now
                        </a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat">
                            <h3>10,000+</h3>
                            <p>Farmers</p>
                        </div>
                        <div class="stat">
                            <h3>500+</h3>
                            <p>Experts</p>
                        </div>
                        <div class="stat">
                            <h3>24/7</h3>
                            <p>Support</p>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Modern Farming">
                    <div class="image-badge">
                        <i class="fas fa-robot"></i>
                        AI Powered Farming
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Our Features</h2>
                <p class="section-subtitle">Everything you need for successful farming</p>
            </div>
            
            <div class="features-grid">
                <!-- Feature 1 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3 class="feature-title">AI Farming Assistant</h3>
                    <p class="feature-description">Get instant answers to farming questions, crop advice, and pest solutions.</p>
                    <a href="#chatbot" class="feature-link" onclick="openChatbot()">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <!-- Feature 2 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-cloud-sun-rain"></i>
                    </div>
                    <h3 class="feature-title">Weather Forecast</h3>
                    <p class="feature-description">Real-time weather updates and farming recommendations for your location.</p>
                    <a href="weather.html" class="feature-link">
                        View Forecast <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <!-- Feature 3 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h3 class="feature-title">Crop Management</h3>
                    <p class="feature-description">Comprehensive crop information, disease detection, and treatment guides.</p>
                    <a href="crops.html" class="feature-link">
                        Explore Crops <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <!-- Feature 4 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <h3 class="feature-title">Marketplace</h3>
                    <p class="feature-description">Buy and sell agricultural products directly with fair pricing.</p>
                    <a href="marketplace.html" class="feature-link">
                        Visit Market <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <!-- Feature 5 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h3 class="feature-title">Soil Analysis</h3>
                    <p class="feature-description">Soil health reports and fertilizer recommendations for better yield.</p>
                    <a href="soil-analysis.html" class="feature-link">
                        Test Soil <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <!-- Feature 6 -->
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="feature-title">Community Forum</h3>
                    <p class="feature-description">Connect with farmers, share experiences, and get expert advice.</p>
                    <a href="forum.html" class="feature-link">
                        Join Discussion <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>
<!-- Add this to your homepage (index.html) -->
<section class="future-farming-section">
    <div class="container">
        <!-- Section Header -->
        <div class="section-header">
            <h2 class="section-title">
                <i class="fas fa-crystal-ball"></i> See the Future of Farming
            </h2>
            <p class="section-subtitle">Visualize what agriculture will look like in the coming decades with AI</p>
        </div>
        
        <!-- Interactive Timeline -->
        <div class="future-timeline">
            <div class="timeline-track">
                <div class="timeline-marker" data-year="2030" onclick="selectYear('2030')">
                    <span>2030</span>
                </div>
                <div class="timeline-marker active" data-year="2040" onclick="selectYear('2040')">
                    <span>2040</span>
                </div>
                <div class="timeline-marker" data-year="2050" onclick="selectYear('2050')">
                    <span>2050</span>
                </div>
                <div class="timeline-marker" data-year="2060" onclick="selectYear('2060')">
                    <span>2060</span>
                </div>
                <div class="timeline-marker" data-year="2070" onclick="selectYear('2070')">
                    <span>2070</span>
                </div>
            </div>
        </div>
        
        <!-- Scenario Selection -->
        <div class="scenario-selector">
            <h3>Choose Your Farming Future:</h3>
            <div class="scenario-buttons">
                <button class="scenario-btn active" data-scenario="dairy" onclick="selectScenario('dairy')">
                    <i class="fas fa-cow"></i> Dairy Industry
                </button>
                <button class="scenario-btn" data-scenario="crop" onclick="selectScenario('crop')">
                    <i class="fas fa-seedling"></i> Crop Farming
                </button>
                <button class="scenario-btn" data-scenario="aquaponics" onclick="selectScenario('aquaponics')">
                    <i class="fas fa-fish"></i> Aquaponics
                </button>
                <button class="scenario-btn" data-scenario="vertical" onclick="selectScenario('vertical')">
                    <i class="fas fa-building"></i> Vertical Farming
                </button>
                <button class="scenario-btn" data-scenario="robotic" onclick="selectScenario('robotic')">
                    <i class="fas fa-robot"></i> Robotic Farming
                </button>
                <button class="scenario-btn" data-scenario="smart" onclick="selectScenario('smart')">
                    <i class="fas fa-brain"></i> Smart Farms
                </button>
                <button class="scenario-btn" data-scenario="organic" onclick="selectScenario('organic')">
                    <i class="fas fa-leaf"></i> Organic Future
                </button>
                <button class="scenario-btn" data-scenario="indian" onclick="selectScenario('indian')">
                    <i class="fas fa-user"></i> Indian Farmer
                </button>
            </div>
        </div>
        
        <!-- Custom Input -->
        <div class="custom-future-input">
            <h3>Or Imagine Your Own Future:</h3>
            <div class="input-group">
                <input type="text" 
                       id="customFutureInput" 
                       placeholder="Describe your farming future: 'Solar-powered farms in Rajasthan 2050' or 'AI-powered rice cultivation in Punjab 2060'">
                <button class="btn btn-primary" onclick="generateCustomFuture()">
                    <i class="fas fa-magic"></i> Generate Vision
                </button>
            </div>
            <div class="quick-suggestions">
                <span>Try:</span>
                <button class="suggestion-chip" onclick="setSuggestion('hydroponic wheat farms 2040')">Hydroponic Wheat Farms 2040</button>
                <button class="suggestion-chip" onclick="setSuggestion('drone farming india 2050')">Drone Farming India 2050</button>
                <button class="suggestion-chip" onclick="setSuggestion('climate resistant crops 2060')">Climate Resistant Crops 2060</button>
            </div>
        </div>
        
        <!-- AI Generation Area -->
        <div class="ai-generation-area">
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="spinner"></div>
                <p>AI is visualizing your farming future...</p>
            </div>
            
            <div class="future-visualization" id="futureVisualization">
                <!-- Default view -->
                <div class="default-view">
                    <div class="placeholder-image">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>Your Farming Vision Awaits</h3>
                    <p>Select a year and farming scenario above to see AI-generated images of the future</p>
                </div>
            </div>
        </div>
        
        <!-- Generated Images Gallery -->
        <div class="future-gallery" id="futureGallery" style="display: none;">
            <h3>AI-Generated Future Scenarios:</h3>
            <div class="gallery-grid" id="galleryGrid">
                <!-- Images will be loaded here -->
            </div>
            
            <div class="gallery-controls">
                <button class="btn btn-outline" onclick="regenerateImages()">
                    <i class="fas fa-redo"></i> Regenerate
                </button>
                <button class="btn btn-outline" onclick="downloadAllImages()">
                    <i class="fas fa-download"></i> Download All
                </button>
                <button class="btn btn-primary" onclick="shareFutureVision()">
                    <i class="fas fa-share"></i> Share Vision
                </button>
            </div>
        </div>
        
        <!-- Future Insights -->
        <div class="future-insights" id="futureInsights" style="display: none;">
            <h3><i class="fas fa-lightbulb"></i> Key Insights for 2040 Dairy Industry:</h3>
            <div class="insights-grid" id="insightsContent">
                <!-- AI-generated insights will appear here -->
            </div>
        </div>
    </div>
</section>

<!-- Modal for Image View -->
<div class="modal future-modal" id="futureImageModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">Future Farming Vision</h3>
            <button class="modal-close" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <img id="modalImage" src="" alt="Future Farming">
            <div class="image-details">
                <h4 id="imageTitle">AI-Generated Future</h4>
                <p id="imageDescription"></p>
                <div class="image-actions">
                    <button class="btn btn-sm" onclick="downloadImage()">
                        <i class="fas fa-download"></i> Download
                    </button>
                    <button class="btn btn-sm" onclick="useInBusinessPlan()">
                        <i class="fas fa-file-alt"></i> Use in Business Plan
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Future Farming Feature JavaScript
let selectedYear = '2040';
let selectedScenario = 'dairy';
let generatedImages = [];

// Initialize with default view
document.addEventListener('DOMContentLoaded', function() {
    initializeFutureFarming();
    // Generate initial view after a short delay
    setTimeout(() => {
        generateFutureVision();
    }, 500);
});

function initializeFutureFarming() {
    // Set up event listeners for scenario buttons
    document.querySelectorAll('.scenario-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            if (e.target.tagName === 'I') {
                selectScenario(e.target.parentElement.dataset.scenario);
            } else {
                selectScenario(e.target.dataset.scenario || e.target.closest('.scenario-btn').dataset.scenario);
            }
        });
    });
    
    // Set up event listener for custom input
    const customInput = document.getElementById('customFutureInput');
    if (customInput) {
        customInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateCustomFuture();
            }
        });
    }
    
    // Close modal when clicking outside
    const modal = document.getElementById('futureImageModal');
    if (modal) {
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });
    }
    
    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
        }
    });
}

function selectYear(year) {
    selectedYear = year;
    
    // Update timeline markers
    document.querySelectorAll('.timeline-marker').forEach(marker => {
        marker.classList.remove('active');
    });
    
    const targetMarker = document.querySelector(`[data-year="${year}"]`);
    if (targetMarker) {
        targetMarker.classList.add('active');
    }
    
    generateFutureVision();
}

function selectScenario(scenario) {
    selectedScenario = scenario;
    
    // Update scenario buttons
    document.querySelectorAll('.scenario-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    const targetBtn = document.querySelector(`[data-scenario="${scenario}"]`);
    if (targetBtn) {
        targetBtn.classList.add('active');
    }
    
    generateFutureVision();
}

function setSuggestion(text) {
    const input = document.getElementById('customFutureInput');
    if (input) {
        input.value = text;
        input.focus();
    }
}

async function generateFutureVision() {
    const visualization = document.getElementById('futureVisualization');
    const gallery = document.getElementById('futureGallery');
    const insights = document.getElementById('futureInsights');
    const loading = document.getElementById('loadingState');
    
    if (!visualization) return;
    
    // Show loading
    if (loading) loading.style.display = 'block';
    visualization.innerHTML = '';
    if (gallery) gallery.style.display = 'none';
    if (insights) insights.style.display = 'none';
    
    // Get the prompt based on selection
    const prompt = buildFuturePrompt();
    
    try {
        // Call AI Image Generation API
        const images = await generateAIImages(prompt);
        generatedImages = images;
        
        // Display results
        displayFutureVisualization(images);
        if (gallery) displayFutureGallery(images);
        await generateFutureInsights(prompt);
        
    } catch (error) {
        console.error('Error generating future vision:', error);
        visualization.innerHTML = `
            <div class="error-state">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>Unable to generate vision</h3>
                <p>Please try again or use a different scenario</p>
                <button class="btn btn-primary" onclick="generateFutureVision()" style="margin-top: 20px;">
                    <i class="fas fa-redo"></i> Try Again
                </button>
            </div>
        `;
    } finally {
        if (loading) loading.style.display = 'none';
    }
}

async function generateCustomFuture() {
    const customInput = document.getElementById('customFutureInput');
    if (!customInput || !customInput.value.trim()) {
        customInput.focus();
        return;
    }
    
    const yearMatch = customInput.value.match(/\b(20[3-9][0-9]|2100)\b/);
    selectedYear = yearMatch ? yearMatch[0] : '2050';
    selectedScenario = 'custom';
    
    generateFutureVision();
}

function buildFuturePrompt() {
    const scenarios = {
        'dairy': `A futuristic ${selectedYear} dairy farm in India with advanced technology: robotic milking machines, AI-powered health monitoring for cows, automated feeding systems, sustainable energy sources, modern processing facility, Indian farmers using tablets to monitor production, hyper-efficient milk storage tanks, eco-friendly waste management system, digital quality control. Photorealistic, bright, optimistic future, detailed, 8K`,
        'crop': `Indian agricultural landscape in ${selectedYear}: smart crop farming with autonomous tractors, drone swarm monitoring fields, AI-controlled irrigation systems, climate-resilient crops, solar-powered farming equipment, digital farm management dashboards, happy Indian farmers using AR glasses, sustainable practices, high-tech greenhouses. Professional photography, vibrant colors, future technology integrated with nature`,
        'aquaponics': `Advanced aquaponics system in ${selectedYear} India: multi-level fish tanks with tilapia, automated water circulation, vertical vegetable gardens, AI monitoring water quality, LED grow lights, sustainable urban farming setup, Indian technicians managing system, energy-efficient design, zero-waste ecosystem. Clean, futuristic, eco-friendly, detailed engineering view`,
        'vertical': `Vertical farming skyscraper in Mumbai ${selectedYear}: 30-story agricultural tower, hydroponic layers growing vegetables, AI-controlled climate, robotic harvesting arms, transparent solar panels, urban food production, Indian agricultural engineers monitoring, sustainable architecture, neon lighting at night. Futuristic cityscape, Blade Runner aesthetic, detailed interior`,
        'robotic': `Robotic farming field in Punjab ${selectedYear}: swarm of agricultural robots planting seeds, autonomous drones applying fertilizers, AI harvesters collecting crops, no human operators visible, solar charging stations, data centers in field, 24/7 operation, precision agriculture. High-tech, efficient, minimalist design, golden hour lighting`,
        'smart': `Smart farm control room ${selectedYear}: Indian farmer using holographic interface, multiple screens showing real-time data (soil moisture, crop health, weather), AI assistant projections, drone camera feeds, IoT sensor network visualization, predictive analytics dashboards, modern Indian farmhouse background. Cyberpunk aesthetic, data visualization, professional`,
        'organic': `Organic farming paradise ${selectedYear}: chemical-free fields, biodiversity corridors, natural pest control methods, traditional Indian farming techniques enhanced with technology, solar-powered irrigation, happy community farming, farm-to-table supply chain, eco-certification. Natural lighting, sustainable, peaceful, abundant harvest`,
        'indian': `Indian farmer in ${selectedYear}: traditional attire with smart wearable technology, using augmented reality glasses to see crop data, holding digital farming tablet, standing in high-tech field, solar panel background, smiling confidently, mix of tradition and technology. Portrait photography, cultural elements, optimistic future`,
        'custom': `${document.getElementById('customFutureInput').value}, futuristic Indian agriculture ${selectedYear}, advanced technology, sustainable practices, photorealistic, detailed, 8K resolution`
    };
    
    return scenarios[selectedScenario] || scenarios['dairy'];
}

async function generateAIImages(prompt) {
    // For demo purposes - in production, replace with actual API call
    console.log('Generating AI images with prompt:', prompt);
    
    // Simulate API delay
    await new Promise(resolve => setTimeout(resolve, 1500));
    
    // Return demo images
    const demoImages = [
        {
            url: `https://images.unsplash.com/photo-1589923186741-b7d59d6b2c4c?w=800&q=80&auto=format&fit=crop`,
            title: `${selectedYear} ${selectedScenario.charAt(0).toUpperCase() + selectedScenario.slice(1)} Revolution`,
            description: `AI-generated vision showing how ${selectedScenario} agriculture evolves by ${selectedYear}`
        },
        {
            url: `https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=800&q=80&auto=format&fit=crop`,
            title: `Technology Integration`,
            description: `Traditional farming techniques merge with advanced AI and robotics`
        },
        {
            url: `https://images.unsplash.com/photo-1591288497594-42d1f277d3dc?w=800&q=80&auto=format&fit=crop`,
            title: `Sustainable Future`,
            description: `Eco-friendly farming methods powered by renewable energy`
        },
        {
            url: `https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=800&q=80&auto=format&fit=crop`,
            title: `Future Farmers`,
            description: `The next generation of agricultural experts using smart technology`
        }
    ];
    
    return demoImages;
    
    /*
    // Real API implementation example:
    try {
        const response = await fetch('/api/generate-images', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                prompt: prompt,
                count: 4,
                style: 'photorealistic'
            })
        });
        
        if (!response.ok) {
            throw new Error('API request failed');
        }
        
        const data = await response.json();
        return data.images;
    } catch (error) {
        console.error('API Error:', error);
        throw error;
    }
    */
}

function displayFutureVisualization(images) {
    const visualization = document.getElementById('futureVisualization');
    
    if (!visualization || !images || images.length === 0) {
        return;
    }
    
    visualization.innerHTML = `
        <div class="main-future-image" onclick="openImageModal(0)">
            <img src="${images[0].url}" alt="${images[0].title}" loading="lazy">
            <div class="image-overlay">
                <h3>${selectedYear} ${selectedScenario.charAt(0).toUpperCase() + selectedScenario.slice(1)} Future</h3>
                <p>Click to explore this vision</p>
            </div>
        </div>
        <div class="future-description">
            <h3>Welcome to Farming in ${selectedYear}</h3>
            <p>This AI-generated image shows how ${selectedScenario} agriculture might evolve. 
            Imagine ${getFutureDescription(selectedScenario, selectedYear)}</p>
        </div>
    `;
}

function displayFutureGallery(images) {
    const gallery = document.getElementById('futureGallery');
    const grid = document.getElementById('galleryGrid');
    
    if (!gallery || !grid) return;
    
    gallery.style.display = 'block';
    grid.innerHTML = '';
    
    images.forEach((image, index) => {
        grid.innerHTML += `
            <div class="gallery-item" onclick="openImageModal(${index})">
                <img src="${image.url}" alt="${image.title}" loading="lazy">
                <div class="item-overlay">
                    <h4>${image.title}</h4>
                </div>
            </div>
        `;
    });
}

async function generateFutureInsights(prompt) {
    const insights = document.getElementById('futureInsights');
    const content = document.getElementById('insightsContent');
    
    if (!insights || !content) return;
    
    insights.style.display = 'block';
    
    // Generate insights
    const insightsText = await generateAIInsights(prompt);
    content.innerHTML = insightsText;
}

async function generateAIInsights(prompt) {
    // Simulate API delay
    await new Promise(resolve => setTimeout(resolve, 800));
    
    const automation = getAutomationLevel(selectedYear);
    const yieldIncrease = getYieldIncrease(selectedYear);
    const renewableEnergy = getRenewableEnergy(selectedYear);
    
    return `
        <div class="insight-card">
            <h4><i class="fas fa-robot"></i> Automation Level</h4>
            <p>By ${selectedYear}, ${automation}% of ${selectedScenario} farming tasks will be fully automated</p>
        </div>
        <div class="insight-card">
            <h4><i class="fas fa-chart-line"></i> Production Increase</h4>
            <p>Expected yield improvement: ${yieldIncrease}% compared to current methods</p>
        </div>
        <div class="insight-card">
            <h4><i class="fas fa-sun"></i> Energy Usage</h4>
            <p>${renewableEnergy}% of farm energy will come from renewable sources</p>
        </div>
        <div class="insight-card">
            <h4><i class="fas fa-users"></i> Workforce Evolution</h4>
            <p>Farmers will transition to tech managers and data analysts roles</p>
        </div>
    `;
}

function getFutureDescription(scenario, year) {
    const descriptions = {
        'dairy': `smart barns with automated climate control, AI-optimized feeding schedules, and real-time health monitoring for every animal`,
        'crop': `fields managed by autonomous drones, AI-powered irrigation systems, and predictive analytics for optimal planting and harvesting`,
        'aquaponics': `closed-loop ecosystems producing both fish and vegetables with zero waste, controlled by AI for maximum efficiency`,
        'vertical': `urban farms producing food year-round with minimal water usage and complete climate control`,
        'robotic': `entire farms operated by intelligent machines working 24/7 with millimeter precision`,
        'smart': `every plant monitored by IoT sensors, with AI making real-time decisions about care and harvesting`,
        'organic': `natural farming enhanced by biotechnology and AI-powered pest management without chemicals`
    };
    return descriptions[scenario] || `advanced agricultural systems powered by artificial intelligence and sustainable technology`;
}

function getAutomationLevel(year) {
    const base = 30;
    const increase = (parseInt(year) - 2024) * 2;
    return Math.min(base + increase, 95);
}

function getYieldIncrease(year) {
    const increase = (parseInt(year) - 2024) * 5;
    return Math.min(increase, 300);
}

function getRenewableEnergy(year) {
    const base = 20;
    const increase = (parseInt(year) - 2024) * 3;
    return Math.min(base + increase, 100);
}

function openImageModal(index) {
    if (!generatedImages || !generatedImages[index]) return;
    
    const image = generatedImages[index];
    const modal = document.getElementById('futureImageModal');
    const modalImage = document.getElementById('modalImage');
    const imageTitle = document.getElementById('imageTitle');
    const imageDescription = document.getElementById('imageDescription');
    const modalTitle = document.getElementById('modalTitle');
    
    if (modalImage) modalImage.src = image.url;
    if (imageTitle) imageTitle.textContent = image.title;
    if (imageDescription) imageDescription.textContent = image.description;
    if (modalTitle) modalTitle.textContent = `${selectedYear} Future Vision`;
    if (modal) modal.style.display = 'flex';
    
    // Prevent body scroll when modal is open
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    const modal = document.getElementById('futureImageModal');
    if (modal) modal.style.display = 'none';
    
    // Restore body scroll
    document.body.style.overflow = 'auto';
}

function regenerateImages() {
    generateFutureVision();
}

function downloadImage() {
    const imageUrl = document.getElementById('modalImage').src;
    if (!imageUrl) return;
    
    const link = document.createElement('a');
    link.href = imageUrl;
    link.download = `future-farming-${selectedYear}-${selectedScenario}.jpg`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

function downloadAllImages() {
    if (!generatedImages || generatedImages.length === 0) return;
    
    generatedImages.forEach((image, index) => {
        const link = document.createElement('a');
        link.href = image.url;
        link.download = `future-farming-${selectedYear}-${selectedScenario}-${index + 1}.jpg`;
        document.body.appendChild(link);
        link.click();
        setTimeout(() => {
            document.body.removeChild(link);
        }, 100);
    });
}

function useInBusinessPlan() {
    const imageUrl = document.getElementById('modalImage').src;
    if (!imageUrl) return;
    
    try {
        localStorage.setItem('businessPlanImage', imageUrl);
        localStorage.setItem('businessPlanVision', JSON.stringify({
            year: selectedYear,
            scenario: selectedScenario,
            generatedAt: new Date().toISOString()
        }));
        
        showNotification('Image saved to your business plan!', 'success');
        closeModal();
    } catch (error) {
        showNotification('Error saving to business plan', 'error');
    }
}

function shareFutureVision() {
    if (navigator.share) {
        navigator.share({
            title: `Farming in ${selectedYear}: ${selectedScenario}`,
            text: `Check out this AI-generated vision of future ${selectedScenario} farming in ${selectedYear}!`,
            url: window.location.href
        }).catch(err => {
            console.log('Share cancelled:', err);
        });
    } else {
        // Fallback: Copy to clipboard
        const shareText = `See the future of ${selectedScenario} farming in ${selectedYear}! ${window.location.href}`;
        navigator.clipboard.writeText(shareText)
            .then(() => showNotification('Link copied to clipboard!', 'success'))
            .catch(err => {
                console.error('Failed to copy:', err);
                showNotification('Failed to share. Please copy the URL manually.', 'error');
            });
    }
}

function showNotification(message, type = 'info') {
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${message}</span>
    `;
    
    // Add to body
    document.body.appendChild(notification);
    
    // Show notification
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);
    
    // Remove after delay
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notification.parentNode) {
                document.body.removeChild(notification);
            }
        }, 300);
    }, 3000);
}

// Add notification styles
const notificationStyles = document.createElement('style');
notificationStyles.textContent = `
    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 10000;
        transform: translateX(150%);
        transition: transform 0.3s ease;
        max-width: 350px;
    }
    
    .notification.show {
        transform: translateX(0);
    }
    
    .notification-success {
        border-left: 4px solid #4CAF50;
        color: #2e7d32;
    }
    
    .notification-error {
        border-left: 4px solid #f44336;
        color: #d32f2f;
    }
    
    .notification-info {
        border-left: 4px solid #2196F3;
        color: #1565c0;
    }
`;
document.head.appendChild(notificationStyles);
</script>

<style>
    /* Future Farming Section Styles */
   /* Future Farming Section Styles */
.future-farming-section {
    padding: 80px 0;
    background: linear-gradient(135deg, #f8f9fa 0%, #e8f5e9 100%);
    position: relative;
    overflow: hidden;
}

.future-farming-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="%232e7d32" opacity="0.05"/></svg>');
    background-size: cover;
    pointer-events: none;
}

.section-header .ai-badge {
    background: linear-gradient(135deg, #FF6B6B, #FFD93D);
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.9rem;
    margin-left: 15px;
    vertical-align: middle;
    display: inline-block;
}

/* Timeline */
.future-timeline {
    max-width: 800px;
    margin: 40px auto;
    position: relative;
}

.timeline-track {
    position: relative;
    height: 4px;
    background: #ddd;
    border-radius: 2px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.timeline-marker {
    width: 50px;
    height: 50px;
    background: white;
    border: 3px solid #ddd;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #666;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 2;
    position: relative;
}

.timeline-marker.active {
    background: linear-gradient(135deg, #4CAF50, #2e7d32);
    color: white;
    border-color: #2e7d32;
    transform: scale(1.1);
    box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
}

.timeline-marker:hover {
    transform: scale(1.05);
    border-color: #4CAF50;
}

/* Scenario Selector */
.scenario-selector {
    margin: 40px 0;
    text-align: center;
}

.scenario-selector h3 {
    color: #333;
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.scenario-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    max-width: 1000px;
    margin: 0 auto;
}

.scenario-btn {
    padding: 12px 20px;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #333;
    min-width: 140px;
    justify-content: center;
}

.scenario-btn:hover {
    border-color: #4CAF50;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.scenario-btn.active {
    background: linear-gradient(135deg, #4CAF50, #2e7d32);
    color: white;
    border-color: #2e7d32;
    box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
}

/* Custom Input */
.custom-future-input {
    max-width: 800px;
    margin: 40px auto;
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 1px solid #e0e0e0;
}

.custom-future-input h3 {
    color: #333;
    margin-bottom: 20px;
    text-align: center;
    font-size: 1.2rem;
}

.input-group {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.input-group input {
    flex: 1;
    padding: 15px 20px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 1rem;
    transition: border-color 0.3s;
}

.input-group input:focus {
    outline: none;
    border-color: #4CAF50;
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.quick-suggestions {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
}

.quick-suggestions span {
    color: #666;
    font-weight: 500;
}

.suggestion-chip {
    background: #f0f7f0;
    border: 1px solid #c8e6c9;
    border-radius: 20px;
    padding: 8px 16px;
    font-size: 0.9rem;
    color: #2e7d32;
    cursor: pointer;
    transition: all 0.3s;
    border: none;
}

.suggestion-chip:hover {
    background: #4CAF50;
    color: white;
    transform: translateY(-2px);
}

/* AI Generation Area */
.ai-generation-area {
    max-width: 1000px;
    margin: 40px auto;
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #e0e0e0;
    position: relative;
}

.loading-state {
    text-align: center;
    padding: 40px;
}

.spinner {
    width: 60px;
    height: 60px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #4CAF50;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.default-view {
    text-align: center;
    color: #666;
    padding: 40px;
}

.placeholder-image {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, #f0f7f0, #e8f5e9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    color: #4CAF50;
    font-size: 2.5rem;
}

.main-future-image {
    position: relative;
    border-radius: 15px;
    overflow: hidden;
    margin-bottom: 30px;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.main-future-image img {
    width: 100%;
    height: 400px;
    object-fit: cover;
    transition: transform 0.3s ease;
    display: block;
}

.main-future-image:hover img {
    transform: scale(1.02);
}

.image-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
    color: white;
    padding: 30px;
}

.image-overlay h3 {
    margin: 0 0 10px;
    font-size: 1.8rem;
}

.future-description {
    text-align: center;
    padding: 20px;
}

.future-description h3 {
    color: #333;
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.future-description p {
    color: #666;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto;
    font-size: 1.1rem;
}

/* Gallery */
.future-gallery {
    margin-top: 40px;
    display: none;
}

.future-gallery h3 {
    color: #333;
    margin-bottom: 20px;
    text-align: center;
    font-size: 1.5rem;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.gallery-item {
    position: relative;
    border-radius: 10px;
    overflow: hidden;
    height: 200px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.gallery-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.gallery-item:hover img {
    transform: scale(1.05);
}

.item-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
    color: white;
    padding: 15px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.gallery-item:hover .item-overlay {
    opacity: 1;
}

.item-overlay h4 {
    margin: 0;
    font-size: 0.9rem;
    font-weight: 500;
}

.gallery-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 30px;
    flex-wrap: wrap;
}

/* Insights */
.future-insights {
    background: white;
    padding: 30px;
    border-radius: 15px;
    margin-top: 40px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 1px solid #e0e0e0;
    display: none;
}

.future-insights h3 {
    color: #2e7d32;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1.3rem;
}

.insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.insight-card {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
    border-left: 4px solid #4CAF50;
    transition: transform 0.3s ease;
}

.insight-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.insight-card h4 {
    color: #333;
    margin: 0 0 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
}

.insight-card p {
    color: #666;
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Modal */
.future-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.future-modal .modal-content {
    background: white;
    border-radius: 15px;
    width: 90%;
    max-width: 800px;
    max-height: 90vh;
    overflow: auto;
    animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
}

.modal-header h3 {
    margin: 0;
    color: #333;
    font-size: 1.3rem;
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
    padding: 5px;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-close:hover {
    background: #f5f5f5;
    color: #333;
}

.modal-body {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

#modalImage {
    width: 100%;
    max-height: 500px;
    object-fit: contain;
    border-radius: 10px;
    display: block;
}

.image-details {
    padding: 20px;
    background: #f8f9fa;
    border-radius: 10px;
}

.image-details h4 {
    margin: 0 0 10px;
    color: #333;
    font-size: 1.2rem;
}

#imageDescription {
    color: #666;
    margin: 0 0 15px;
    line-height: 1.6;
}

.image-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.image-actions button {
    padding: 8px 16px;
    font-size: 0.9rem;
}

/* Error State */
.error-state {
    text-align: center;
    padding: 40px;
    color: #f44336;
}

.error-state i {
    font-size: 3rem;
    margin-bottom: 20px;
}

/* Responsive Design */
@media (max-width: 992px) {
    .scenario-buttons {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .scenario-btn {
        min-width: 120px;
        padding: 10px 15px;
        font-size: 0.9rem;
    }
}

@media (max-width: 768px) {
    .future-farming-section {
        padding: 60px 0;
    }
    
    .timeline-marker {
        width: 40px;
        height: 40px;
        font-size: 0.8rem;
    }
    
    .scenario-buttons {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .input-group {
        flex-direction: column;
    }
    
    .main-future-image img {
        height: 250px;
    }
    
    .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .insights-grid {
        grid-template-columns: 1fr;
    }
    
    .modal-body {
        flex-direction: column;
    }
}

@media (max-width: 480px) {
    .scenario-buttons {
        grid-template-columns: 1fr;
    }
    
    .scenario-btn {
        width: 100%;
        justify-content: center;
    }
    
    .gallery-grid {
        grid-template-columns: 1fr;
    }
    
    .timeline-marker {
        width: 35px;
        height: 35px;
        font-size: 0.7rem;
    }
    
    .quick-suggestions {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .gallery-controls {
        flex-direction: column;
        align-items: center;
    }
    
    .gallery-controls button {
        width: 100%;
        max-width: 200px;
    }
}

/* Fix Features Section */
.features {
    background: #f8f9fa !important;
}

.feature-card {
    background: white !important;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08) !important;
}

.feature-card h3 {
    color: #2e7d32 !important;
}

.feature-card p {
    color: #555 !important;
}

/* Fix Future Farming Section */
.future-farming-section {
    background: linear-gradient(135deg, #ffffff 0%, #f0f7f0 100%) !important;
}

.future-farming-section .section-title,
.future-farming-section .section-subtitle,
.future-farming-section h3 {
    color: #1a1a1a !important;
}

/* Fix Weather Widget */
.weather-section {
    background: white !important;
}

.weather-card {
    background: linear-gradient(135deg, #ffffff, #f8f9fa) !important;
    border: 1px solid #e0e0e0 !important;
}

.weather-card .temperature {
    color: #1a1a1a !important;
    font-size: 2.5rem !important;
}
</style>
   

    <!-- Quick Actions -->
    <section class="quick-actions">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Quick Actions</h2>
                <p class="section-subtitle">Get things done quickly</p>
            </div>
            
            <div class="actions-grid">
                <a href="crops.html" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Crop Search</h3>
                    <p>Find crop information</p>
                </a>
                
                <a href="weather.html" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-cloud-sun"></i>
                    </div>
                    <h3>Weather</h3>
                    <p>Check forecast</p>
                </a>
                
                <a href="#chatbot" class="action-card" onclick="openChatbot()">
                    <div class="action-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Ask Assistant</h3>
                    <p>Get farming advice</p>
                </a>
                
                <a href="marketplace.html" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <h3>Marketplace</h3>
                    <p>Buy/Sell products</p>
                </a>
                
                <a href="forum.html" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Forum</h3>
                    <p>Join discussions</p>
                </a>
                
                <a href="contact.html" class="action-card">
                    <div class="action-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h3>Support</h3>
                    <p>Get help</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <div class="footer-logo">
                        <i class="fas fa-seedling"></i>
                        <span>SmartFarm</span>
                    </div>
                    <p class="footer-description">
                        Empowering farmers with modern technology and community support for sustainable agriculture.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3 class="footer-title">Services</h3>
                    <ul class="footer-links">
                        <li><a href="crops.html">Crop Information</a></li>
                        <li><a href="weather.html">Weather Forecast</a></li>
                        <li><a href="marketplace.html">Marketplace</a></li>
                        <li><a href="forum.html">Community Forum</a></li>
                        <li><a href="dashboard.php">Farmer Dashboard</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3 class="footer-title">Contact Us</h3>
                    <ul class="footer-contact">
                        <li>
                            <i class="fas fa-envelope"></i>
                            <span>support@smartfarm.com</span>
                        </li>
                        <li>
                            <i class="fas fa-phone"></i>
                            <span>+91 98765 43210</span>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Farm Street, Agriculture City, India</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 Smart Farming System. All rights reserved.</p>
            </div>
        </div>
    </footer>
<!-- Simple Test Bot -->
<button id="testBotBtn" style="position:fixed; bottom:20px; right:20px; background:green; color:white; border:none; border-radius:50%; width:60px; height:60px; font-size:24px; cursor:pointer;">üåæ</button>

<div id="testBotModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:10000; padding:20px;">
  <div style="background:white; border-radius:10px; padding:20px; max-width:500px; margin:50px auto;">
    <h2>Test ‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§æ‡§•‡•Ä</h2>
    <input id="testInput" placeholder="Type your question..." style="width:100%; padding:10px; margin:10px 0;">
    <button onclick="sendTest()" style="background:green; color:white; border:none; padding:10px 20px; border-radius:5px;">Send</button>
    <div id="testResult" style="margin-top:20px; padding:10px; background:#f0f0f0; border-radius:5px;"></div>
    <button onclick="document.getElementById('testBotModal').style.display='none'" style="margin-top:20px;">Close</button>
  </div>
</div>

<script>
document.getElementById('testBotBtn').onclick = function() {
    document.getElementById('testBotModal').style.display = 'block';
};

async function sendTest() {
    const input = document.getElementById('testInput').value;
    const resultDiv = document.getElementById('testResult');
    
    if (!input) {
        resultDiv.innerHTML = 'Please enter a question';
        return;
    }
    
    resultDiv.innerHTML = 'Sending...';
    
    try {
        const response = await fetch('backend/kisan_process.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                message: input,
                lang_mode: 'hindi'
            })
        });
        
        const data = await response.json();
        resultDiv.innerHTML = '<strong>Response:</strong> ' + data.reply;
        
        // Test TTS
        if (data.reply) {
            const ttsResponse = await fetch('backend/kisan_tts.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    text: data.reply,
                    voiceId: 'Namrita'
                })
            });
            
            if (ttsResponse.ok) {
                resultDiv.innerHTML += '<br><strong>TTS:</strong> ‚úÖ Working';
            } else {
                resultDiv.innerHTML += '<br><strong>TTS:</strong> ‚ùå Error';
            }
        }
        
    } catch (error) {
        resultDiv.innerHTML = '<strong>Error:</strong> ' + error.message;
    }
}
</script>
    <!-- Chatbot Widget -->
<!-- ‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§æ‡§•‡•Ä Voice Bot -->
<!-- ‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§æ‡§•‡•Ä Voice Bot -->
<button id="kisanBotBtn" title="‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§æ‡§•‡•Ä ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç">üåæ</button>

<div id="kisanBotModal">
  <div class="kisan-container">
    <button id="closeBot">‚úï</button>
    
    <div class="kisan-header">
      <h1>‡§ï‡§ø‡§∏‡§æ‡§® ‡§∏‡§æ‡§•‡•Ä</h1>
      <p>‡§´‡§∏‡§≤, ‡§Æ‡•å‡§∏‡§Æ, ‡§≠‡§æ‡§µ, ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‚Äì ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§™‡•Ç‡§õ‡•ã!</p>
    </div>
    
    <canvas id="kisanCanvas"></canvas>
    <div class="status" id="kisanStatus">‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à...</div>
    <div id="kisanSubtitle"></div>
    
    <div class="input-bar">
      <button id="micBtn">üé§</button>
      <input id="kisanInput" placeholder="‡§Ø‡§π‡§æ‡§Å ‡§¨‡•ã‡§≤‡•á‡§Ç ‡§Ø‡§æ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç..." />
      <button id="sendBtn">‚û§</button>
      
      <select id="langSelect">
        <option value="hindi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="english">English</option>
        <option value="marathi">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
        <option value="punjabi">‡§™‡§Ç‡§ú‡§æ‡§¨‡•Ä</option>
      </select>
      
      <button id="jarvisToggle">Jarvis: OFF</button>
    </div>
    
    <div class="quick-questions">
      <button data-question="‡§Ü‡§ú ‡§ï‡§æ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•à‡§∏‡§æ ‡§π‡•à?">üå§Ô∏è ‡§Æ‡•å‡§∏‡§Æ</button>
      <button data-question="‡§ó‡•á‡§π‡•Ç‡§Ç ‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç?">üåæ ‡§ó‡•á‡§π‡•Ç‡§Ç</button>
      <button data-question="‡§®‡•Ä‡§Æ ‡§∏‡•á ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§ï‡•à‡§∏‡•á ‡§¨‡§®‡§æ‡§è‡§Ç?">üêõ ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï</button>
      <button data-question="PM-KISAN ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?">üí∞ ‡§Ø‡•ã‡§ú‡§®‡§æ</button>
    </div>
  </div>
</div>

<style>
/* Floating Button */
#kisanBotBtn {
  position: fixed;
  bottom: 25px;
  right: 25px;
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, #22c55e, #16a34a);
  border: none;
  border-radius: 50%;
  font-size: 32px;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(34, 197, 94, 0.5);
  z-index: 9999;
  animation: float 4s ease-in-out infinite;
  transition: all 0.3s;
}
#kisanBotBtn:hover { transform: scale(1.1); box-shadow: 0 15px 40px rgba(34, 197, 94, 0.7); }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

/* Modal */
#kisanBotModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  backdrop-filter: blur(12px);
  z-index: 10000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  font-family: 'Segoe UI', sans-serif;
}

/* Container */
.kisan-container {
  width: 100%;
  max-width: 1000px;
  height: 90vh;
  max-height: 800px;
  background: radial-gradient(circle at 50% 15%, #0a2e0a 0%, #000 70%);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(34,197,94,0.4);
  display: flex;
  flex-direction: column;
  position: relative;
  border: 2px solid #22c55e;
}

/* Close Button */
#closeBot {
  position: absolute;
  top: 15px;
  right: 20px;
  background: #000;
  color: #22c55e;
  width: 40px;
  height: 40px;
  font-size: 20px;
  border-radius: 50%;
  border: 2px solid #22c55e;
  cursor: pointer;
  z-index: 100;
  transition: all 0.3s;
}
#closeBot:hover { background: #22c55e; color: #000; }

/* Header */
.kisan-header {
  text-align: center;
  padding: 25px 20px;
  background: linear-gradient(90deg, #166534, #22c55e);
  border-bottom: 3px solid #0f9d58;
}
.kisan-header h1 {
  font-size: 48px;
  font-weight: 900;
  background: linear-gradient(90deg, #fff, #e0ffe0);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin-bottom: 8px;
}
.kisan-header p {
  color: #d0ffd0;
  font-size: 20px;
  margin: 0;
}

/* Canvas */
canvas {
  flex: 1;
  width: 100%;
  min-height: 200px;
}

/* Status */
.status {
  text-align: center;
  font-size: 20px;
  color: #22c55e;
  text-shadow: 0 0 20px #22c55e;
  margin: 10px 0;
  padding: 0 20px;
  font-weight: 600;
  min-height: 30px;
}

/* Subtitle */
#kisanSubtitle {
  text-align: center;
  font-size: 22px;
  color: #b0ffb0;
  min-height: 40px;
  padding: 0 30px;
  margin-bottom: 15px;
  line-height: 1.4;
}

/* Input Bar */
.input-bar {
  background: rgba(20,60,20,0.8);
  backdrop-filter: blur(20px);
  border: 2px solid #22c55e;
  border-radius: 30px;
  padding: 16px 25px;
  display: flex;
  gap: 15px;
  margin: 0 20px 20px;
  box-shadow: 0 15px 40px rgba(34,197,94,0.3);
  align-items: center;
}

#kisanInput {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: #fff;
  font-size: 18px;
  padding: 12px 5px;
}
#kisanInput::placeholder { color: #88cc88; }

/* Buttons */
button {
  width: 56px;
  height: 56px;
  border: none;
  border-radius: 50%;
  font-size: 26px;
  cursor: pointer;
  box-shadow: 0 8px 25px rgba(0,0,0,0.6);
  transition: 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}
button:hover { transform: scale(1.05); }

#micBtn { background: linear-gradient(135deg, #22c55e, #16a34a); }
#sendBtn { background: linear-gradient(135deg, #15803d, #22c55e); }

#micBtn.listening {
  background: #00ff88;
  box-shadow: 0 0 60px #00ff88;
  animation: pulse 1.6s infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(0,255,136,0.8); }
  70% { box-shadow: 0 0 0 30px rgba(0,255,136,0); }
  100% { box-shadow: 0 0 0 0 rgba(0,255,136,0); }
}

/* Select & Jarvis */
select, #jarvisToggle {
  background: rgba(34,197,94,0.2);
  color: #fff;
  border: 1.5px solid #22c55e;
  padding: 12px 16px;
  border-radius: 25px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  min-width: 120px;
  height: 52px;
}
#jarvisToggle { background: #333; }
#jarvisToggle.on { background: #16a34a; }

/* Quick Questions */
.quick-questions {
  padding: 15px 25px;
  background: rgba(10,40,10,0.5);
  border-top: 1px solid #22c55e;
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}
.quick-questions button {
  width: auto !important;
  height: 42px !important;
  padding: 0 15px !important;
  border-radius: 25px !important;
  font-size: 14px !important;
  background: rgba(34,197,94,0.2) !important;
  border: 1px solid #22c55e !important;
  color: #b0ffb0 !important;
}

/* Responsive */
@media (max-width: 768px) {
  .kisan-container { height: 95vh; }
  .kisan-header h1 { font-size: 36px; }
  .kisan-header p { font-size: 16px; }
  .input-bar { flex-wrap: wrap; gap: 10px; padding: 12px; }
  #kisanInput { order: 1; width: 100%; margin-bottom: 10px; }
  select, #jarvisToggle { min-width: 100px; }
}
</style>

<script>
// DOM Elements
const modal = document.getElementById('kisanBotModal');
const statusEl = document.getElementById('kisanStatus');
const subtitleEl = document.getElementById('kisanSubtitle');
const userInput = document.getElementById('kisanInput');
const micBtn = document.getElementById('micBtn');
const sendBtn = document.getElementById('sendBtn');
const langSelect = document.getElementById('langSelect');
const jarvisToggle = document.getElementById('jarvisToggle');
const canvas = document.getElementById('kisanCanvas');
const ctx = canvas.getContext('2d');

// State
let recorder = null, analyser = null, dataArray = null, isSpeaking = false, jarvisMode = false;
let conversationHistory = [];

// Open/Close Modal
document.getElementById('kisanBotBtn').onclick = () => {
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  resizeCanvas();
  setTimeout(() => userInput.focus(), 300);
};

document.getElementById('closeBot').onclick = () => {
  modal.style.display = 'none';
  document.body.style.overflow = '';
  if (isSpeaking) {
    document.querySelectorAll('audio').forEach(a => a.pause());
    isSpeaking = false;
  }
};

// Canvas
function resizeCanvas() {
  const ratio = window.devicePixelRatio || 1;
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * ratio;
  canvas.height = rect.height * ratio;
  ctx.setTransform(ratio, 0, 0, ratio, 0, 0);
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

// Wave Animation
function drawWave() {
  requestAnimationFrame(drawWave);
  if (!analyser || !isSpeaking) return;
  
  analyser.getByteTimeDomainData(dataArray);
  ctx.fillStyle = 'rgba(0,0,0,0.1)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  ctx.lineWidth = 3;
  ctx.strokeStyle = '#22c55e';
  ctx.shadowBlur = 30;
  ctx.shadowColor = '#22c55e';
  ctx.beginPath();
  
  const step = canvas.width / dataArray.length;
  let x = 0;
  for (let i = 0; i < dataArray.length; i++) {
    const v = dataArray[i] / 128;
    const y = (v * canvas.height) / 3;
    i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    x += step;
  }
  ctx.stroke();
}

// Subtitle
function streamSubtitle(text) {
  subtitleEl.textContent = '';
  if (!text.trim()) return;
  const words = text.split(/\s+/);
  let i = 0;
  const interval = setInterval(() => {
    if (i >= words.length || !isSpeaking) { clearInterval(interval); return; }
    subtitleEl.textContent += (i === 0 ? '' : ' ') + words[i];
    i++;
  }, 140);
}

// Voice Playback
async function playVoice(text) {
  subtitleEl.textContent = '';
  statusEl.textContent = '‡§Ü‡§µ‡§æ‡§ú‡§º ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...';
  
  const lang = langSelect.value;
  const voiceMap = {
    hindi: "Namrita",
    english: "Nikhil",
    marathi: "Alicia",
    punjabi: "Arjun"
  };
  const voice = voiceMap[lang] || "Namrita";
  
  try {
    const res = await fetch('backend/kisan_tts.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        text: text,
        voiceId: voice,
        model: "Falcon",
        style: "Conversational",
        lang: lang
      })
    });
    
    if (!res.ok) throw new Error('TTS error');
    
    const blob = await res.blob();
    const audio = new Audio(URL.createObjectURL(blob));
    audio.playbackRate = 1.3;
    
    // Audio analysis
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const src = audioCtx.createMediaElementSource(audio);
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 1024;
    dataArray = new Uint8Array(analyser.frequencyBinCount);
    src.connect(analyser);
    analyser.connect(audioCtx.destination);
    
    isSpeaking = true;
    drawWave();
    
    audio.onplay = () => {
      statusEl.textContent = '‡§¨‡•ã‡§≤ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...';
      streamSubtitle(text);
      micBtn.classList.remove('listening');
    };
    
    audio.onended = () => {
      isSpeaking = false;
      subtitleEl.textContent = '';
      statusEl.textContent = '‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à...';
      if (jarvisMode && recorder) {
        setTimeout(() => {
          recorder.start();
          statusEl.textContent = 'üéß ‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...';
        }, 1000);
      }
    };
    
    await audio.play();
  } catch {
    statusEl.textContent = '‡§Ü‡§µ‡§æ‡§ú‡§º ‡§∏‡•á‡§µ‡§æ ‡§µ‡•ç‡§Ø‡§∏‡•ç‡§§';
    subtitleEl.textContent = text;
    setTimeout(() => subtitleEl.textContent = '', 3000);
  }
}

// Send Message
async function sendMessage() {
  const msg = userInput.value.trim();
  if (!msg) return;
  
  userInput.value = '';
  statusEl.textContent = '‡§∏‡•ã‡§ö ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...';
  
  // Add user message to history
  conversationHistory.push({ role: "user", content: msg });
  
  try {
    const res = await fetch('backend/kisan_process.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        message: msg,
        lang_mode: langSelect.value,
        history: conversationHistory
      })
    });
    
    const data = await res.json();
    if (data.reply) {
      // Add assistant response to history
      conversationHistory.push({ role: "assistant", content: data.reply });
      // Keep only last 5 exchanges
      if (conversationHistory.length > 10) {
        conversationHistory = conversationHistory.slice(-10);
      }
      
      await playVoice(data.reply);
    } else {
      statusEl.textContent = '‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ';
    }
  } catch {
    statusEl.textContent = '‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø';
  }
}

// Event Listeners
sendBtn.onclick = sendMessage;
userInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') { e.preventDefault(); sendMessage(); }
});

// Speech Recognition
if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  recorder = new SR();
  recorder.continuous = false;
  
  const langMap = { hindi: 'hi-IN', english: 'en-IN', marathi: 'mr-IN', punjabi: 'pa-IN' };
  langSelect.addEventListener('change', () => {
    recorder.lang = langMap[langSelect.value] || 'hi-IN';
  });
  recorder.lang = langMap[langSelect.value] || 'hi-IN';
  
  recorder.onresult = (e) => {
    userInput.value = e.results[0][0].transcript;
    setTimeout(sendMessage, 300);
  };
  
  recorder.onend = () => micBtn.classList.remove('listening');
} else {
  micBtn.style.display = 'none';
}

micBtn.onclick = () => {
  if (recorder && !isSpeaking) {
    recorder.start();
    statusEl.textContent = 'üéß ‡§∏‡•Å‡§® ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...';
    micBtn.classList.add('listening');
  }
};

// Jarvis Mode
jarvisToggle.onclick = () => {
  jarvisMode = !jarvisMode;
  if (jarvisMode) {
    jarvisToggle.textContent = 'Jarvis: ON';
    jarvisToggle.classList.add('on');
    if (recorder && !isSpeaking) {
      setTimeout(() => recorder.start(), 500);
    }
  } else {
    jarvisToggle.textContent = 'Jarvis: OFF';
    jarvisToggle.classList.remove('on');
    if (recorder) recorder.stop();
  }
};

// Quick Questions
document.querySelectorAll('.quick-questions button').forEach(btn => {
  btn.onclick = () => {
    userInput.value = btn.getAttribute('data-question');
    sendMessage();
  };
});

// Initialize
langSelect.dispatchEvent(new Event('change'));
</script>


    <!-- Google Translate Script -->
    <div id="google_translate_element"></div>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      includedLanguages: 'en,mr,hi,ta',
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');
  }
</script>

<script type="text/javascript" 
src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>

    
    <script src="script.js"></script>
</body>
</html>